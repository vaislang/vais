[package]
name = "aoel-codegen"
version.workspace = true
edition.workspace = true
description = "AOEL Native Code Generator (C, WASM, LLVM, Cranelift backends)"

[features]
default = []
cranelift = ["cranelift-codegen", "cranelift-frontend", "cranelift-module", "cranelift-jit", "cranelift-native", "target-lexicon"]

[dependencies]
aoel-ast = { workspace = true }
aoel-parser = { workspace = true }
aoel-lowering = { workspace = true }
aoel-ir = { workspace = true }
thiserror = { workspace = true }

# Cranelift dependencies (optional)
cranelift-codegen = { version = "0.113", optional = true }
cranelift-frontend = { version = "0.113", optional = true }
cranelift-module = { version = "0.113", optional = true }
cranelift-jit = { version = "0.113", optional = true }
cranelift-native = { version = "0.113", optional = true }
target-lexicon = { version = "0.12", optional = true }
