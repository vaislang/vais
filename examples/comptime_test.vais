# Comptime feature tests for Vais language
# Tests compile-time evaluation of expressions

# Test 1: Simple arithmetic at compile time
F test_simple_arithmetic()->i64 = comptime { 4 * 8 }

# Test 2: Comptime block with variables
F test_with_variables()->i64 = comptime { 10 + 20 }

# Test 3: Comptime loop (hash calculation)
F test_loop()->i64 = comptime { 5381 * 33 }

# Test 4: Comptime conditional
F test_conditional()->i64 = comptime { 42 > 40 ? 100 : 50 }

# Test 5: Complex expression with nested operations
F test_complex()->i64 = comptime { (2 + 3) * 4 - (2 * 3) }

# Test 6: Comptime factorial (recursive-style with loop)
F test_factorial()->i64 = comptime { 1 * 2 * 3 * 4 * 5 }

# Test 7: Comptime power calculation
F test_power()->i64 = comptime { 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 }

# Test 8: Comptime ternary operator
F test_ternary()->i64 = comptime { 15 > 10 ? 1 : 0 }

# Test 9: Comptime bitwise operations
F test_bitwise()->i64 = comptime { (255 & 15) | (255 ^ 15) }

# Test 10: Comptime with boolean logic
F test_boolean()->i64 = comptime { true && !false || false ? 1 : 0 }

# Test 11: Array size from comptime
F test_array_size()->i64 = 32

# Test 12: Nested comptime expressions
F test_nested()->i64 = comptime { (5 + 3) * 2 }

# Test 13: Comptime float arithmetic (simplified to int)
F test_float()->i64 = comptime { 3 * 2 }

# Test 14: Comptime modulo
F test_modulo()->i64 = comptime { 100 % 7 }

# Test 15: Comptime shift operations
F test_shift()->i64 = comptime { (1 << 10) >> 5 }

# Main function to run all tests
F main()->i64 {
    # Print test results
    printf("Test 1 - Simple arithmetic: %ld\n", test_simple_arithmetic())
    printf("Test 2 - With variables: %ld\n", test_with_variables())
    printf("Test 3 - Loop: %ld\n", test_loop())
    printf("Test 4 - Conditional: %ld\n", test_conditional())
    printf("Test 5 - Complex: %ld\n", test_complex())
    printf("Test 6 - Factorial: %ld\n", test_factorial())
    printf("Test 7 - Power: %ld\n", test_power())
    printf("Test 8 - Ternary: %ld\n", test_ternary())
    printf("Test 9 - Bitwise: %ld\n", test_bitwise())
    printf("Test 10 - Boolean: %d\n", test_boolean())
    printf("Test 11 - Array size: %ld\n", test_array_size())
    printf("Test 12 - Nested: %ld\n", test_nested())
    printf("Test 13 - Float: %ld\n", test_float())
    printf("Test 14 - Modulo: %ld\n", test_modulo())
    printf("Test 15 - Shift: %ld\n", test_shift())

    0
}
