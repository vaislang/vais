// Complex type inference test cases

// 1. Nested function calls
double(x) = x * 2
triple(x) = x * 3
compose(x) = double(triple(x))

// 2. Mutual recursion simulation through nested calls
is_even(n) = n == 0 ? true : is_odd(n - 1)
is_odd(n) = n == 0 ? false : is_even(n - 1)

// 3. Higher-order function composition
apply_twice(f, x) = f(f(x))

// 4. Complex arithmetic with type inference
quadratic(a, b, c, x) = a * x * x + b * x + c

// 5. Conditional with type inference
abs(x) = x < 0 ? -x : x

// 6. Multiple recursive calls
tree_sum(n) = n <= 0 ? 0 : n + tree_sum(n - 1) + tree_sum(n - 2)

// Test expression
// compose(5) = double(triple(5)) = double(15) = 30
// quadratic(1, 2, 3, 4) = 1*4*4 + 2*4 + 3 = 16 + 8 + 3 = 27
// Expected output: 57
compose(5) + quadratic(1, 2, 3, 4)
